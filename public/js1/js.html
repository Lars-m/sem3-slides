<!DOCTYPE html>
<html>

<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!--<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script>-->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" media="all" href="../theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="../theme/css/phone.css">

  <script src="../js/jquery-1.11.1.min.js"></script>
  <script src="../js/presenter.js"></script>

  <base target="_blank">
  <style>
    code {
      color: darkblue;
    }
  </style>

  <!-- This opens all links in a new tab. -->
  <script data-main="../js/slides" src="../js/require-1.0.8.min.js"></script>

  <!--In order to have more than one slideset in the project-->
  <script src="slides.js"></script>

</head>

<!--Setup Angular for the full slide-set-->
<!--<body ng-app="SlideApp" style="opacity: 0">-->

<body style="opacity: 0">

  <slides class="layout-widescreen">

    <slide class="title-slide segue nobackground" style="background: #00163B">
      <aside class="gdbar"><img src="../images/KEA_EN.png" style="width: auto"></aside>
      <hgroup class="auto-fadein" style="color: white;">
        <div style="float: left;">
          <h1 data-config-title style="float:left;"></h1>

          <h2 data-config-subtitle></h2>

          <p data-config-presenter></p>
        </div>
        <div style="float:left;margin-left: 2em;"><img src="images/javascript.png" style="float:left"></div>
      </hgroup>
    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript </h2>
      </hgroup>

      <article>
        <div style="margin-top: -25px;">JavaScript - the first four days</div>
        <br />
        <p style="color:steelblue">Day 1+2:</p>
        <div>
          <ul>
            <li>What is JavaScript, and how does it differ from Java (<code>var</code> and forgetting <code>var</code>,
              == and ===, lack of type check, <code>null</code> and <code>undefined</code> etc.)
            </li>
            <li>Functions and Callbacks and asynchronous Callbacks</li>
            <li>The JavaScript Array methods</li>
            <li>Function Closures and the JavaScript Module Pattern</li>
          </ul>
        </div>
        <p style="color:steelblue">Day-2-3:</p>
        <ul>
          <li>JavaScript Event Handling</li>
          <li>The DOM</li>
        </ul>
        <p style="color:steelblue">Day-2-3:</p>
        <ul>
          <li>Promises</li>
          <li>fetch with GET,POST, PUT and DELETE</li>
        </ul>


      </article>

    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript- this semester </h2>
      </hgroup>

      <article>
        <ul class="build">
          <li>
            JavaScript is THE Scripting Language of the WEB </br>
            Some even call it the <b>machine</b> code of the WEB

          </li>

          <div class="row">
            <div class="col-md-8">
              But today JavaScript is used <b>everywhere</b></br>
              We will however only focus on <em>browsers</em> this semester
            </div>
            <div class="col-md-4">
              <img style="width: 90%;" src="images/jseverywhere.PNG">
            </div>
          </div>
          </li>
          <li>JavaScript is a language which (today) evolves very quickly
            <ul style="font-size:small">
              <li><a href="https://www.w3schools.com/js/js_versions.asp">JS Versions (W3)</a></li>
              <li><a href="https://en.wikipedia.org/wiki/ECMAScript (wikipedia)">JS Versions</a></li>

            </ul>
          </li>
          <li>We will focus on the newest JavaScript <b>and assume (in real life)</b> that you will use tricks to ensure
            we can use them in a way so "all" browsers are supported
          </li>
        </ul>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>Where to find info </h2>
      </hgroup>

      <article>
        <div style="margin-top: -20px;">
          As always <em>Google</em> is our friend, but there are so much JavaScript-info out there so how to chose?
        </div>
        <br />

        <div>
          <p>if you Google <em>JavaScript</em> + <em>a specific topic</em>, for example "JavaScript DOM" you will see
            that
            your
            first hits almost always is either from <a href="https://www.w3schools.com/js/default.asp">w3schools</a>
            or <a href="https://developer.mozilla.org/en-US/">MDN</a></p>
          <p>TRY</p>
          <p>Some quick guidelines for what to go for:</p>
          <ul>
            <li>Mozilla Developer Networks provides the newest and updated information,
              but can rather technical and difficult to read (with no annoying commercials)
            </li>
            <li>W3Schools is often easier to navigate in. Information is often not updated, but there are "tons" of
              examples
              which you can execute directly from the web-site
            </li>
            <li><b>My advice:</b> Always go for MDN first, and if too complex, go to W3schools next</li>
            <li>And then; obviously there are many other great sources of there (stackoverflow.com)</li>

          </ul>
        </div>
      </article>

    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript (some of) the strange things </h2>
      </hgroup>
      <article>
        <div><b>var and forgetting var</b>
          <pre class="prettyprint pre18">
var number = 4; //OK
// but what happens if we forget var ?
function forgotVar() { name = "Donald Duck"}</pre>
          <div style="margin-top: 10px;">
            <b>JavaScript has types, but is loosely typed. Type Coercion</b>
            <h3 style="margin-top: 5px;">
              You should (almost) NEVER USE <code>var</code>, but you will see it used all over
            </h3>
            <pre class="prettyprint pre18">

let a = 123.45; //Observe <b>let</b> NOT var
a = a * 10;
a = a + "Hello";
"37" - 7
"37" + 7</pre>
          </div>
          <div style="margin-top: 10px;">
            <b>Type coercion also occurs when doing comparisons.
              We can, however, forbid type coercion by using the === n</b>
            <pre class="prettyprint pre18">
1 == true;  // = true  
1 === true; // = false    
7 == "7";   // = true  
7 === "7";  // = false; 
</pre>
          </div>
        </div>

      </article>
    </slide>
    <slide>
      <hgroup>
        <h2><code>null</code> and <code>undefined</code></h2>
      </hgroup>
      <article>
        <p style="margin-top: -25px;">Uninitialized properties in JavaScript are <b>NOT set to null as the default
            value</b>.
          A property, when it has no definition, is <code>undefined</code>
          Null values must be set explicitly
        </p>
        <pre class="prettyprint pre18">
let x;
x == null       //true  (Because of type cohesion)
x == undefined  //true
x === null      //false (was never set to a value)
x === undefined //true

x = null;
x == null       //true
x == undefined  //true (Because of type cohesion)
x === null      //true
x === undefined //false </pre>

        <p style="margin-top: 10px;">Use the <code>typeof</code> operator to check whether a variable is undefined</p>
        <pre class="prettyprint pre18">
let myVar;  //Declared, but undefined
if (typeof myVar === 'undefined'){
  console.log("myVar is undefined");
} </pre>

      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript Functions</h2>

        <h3>JavaScript Functions as First Class Members</h3>
      </hgroup>
      <div class="build" style="margin-top: 20px;font-size: 22px;">
        <div>
          <div class="row">
            <div class="col-md-6">In Java we can have variables that points to an object</div>
            <div class="col-md-6">In JavaScript we can have variables that points to a function</div>
          </div>
          <div class="row">
            <div class="col-md-6"><code>A myA = new A();</code></div>
            <div class="col-md-6"><code>const f1 = function(){...}</code></div>
          </div>
        </div>
        <div style="margin-top: 10px;">
          <div class="row">
            <div class="col-md-6">
              "In Java we can pass objects as parameters
            </div>
            <div class="col-md-6">In JavaScript we can pass functions as parameters</div>
          </div>
          <div class="row">
            <div class="col-md-6"><code>someFunction(myA);</code></div>
            <div class="col-md-6"><code>someFunction(f1)</code></div>
          </div>
        </div>
        <div style="margin-top: 10px;">
          <div class="row">
            <div class="col-md-6">In Java we can return objects from methods</div>
            <div class="col-md-6">In JavaScript we can return functions from functions</div>
          </div>
          <div class="row">
            <div class="col-md-6"><code>A method(){<br/>&nbsp;&nbsp;return new A(); <br/>}</code></div>
            <div class="col-md-6"><code>function someFunction(){<br/>
            &nbsp;return function() {...};<br/>}
          </code></div>
          </div>
        </div>
        <div style="margin-top: 10px;">
          <div class="row">
            <div style="padding:2px;" class="col-md-6">In Java we can have nested classes</div>
            <div class="col-md-6">In JavaScript we can have nested functions</div>
          </div>
          <div class="row">
            <div class="col-md-6"><code>class A {<br/>
            &nbsp;class Inner { .. } <br/>}</code></div>
            <div class="col-md-6"><code>function someFunction(){<br/>
            &nbsp;function anotherFunction() &nbsp;{...};<br/>}
          </code></div>
          </div>
        </div>
        <div>
          <h3 style="color: #000066;margin-top: 10px;">In JavaScript Functions are <b>First Class Members</b></h3>
        </div>
      </div>
      <article>
      </article>
    </slide>
    <slide>
      <hgroup>
        <h2>Declaring functions</h2>
      </hgroup>
      <div style="margin-top: 20px;font-size: 22px;">
        <div>
          <div class="row">
            <div class="col-md-2">Function Declarations</div>
            <div class="col-md-10">
              <pre class="prettyprint pre18">
//Observe: no return type, no type on parameters
function add(n1, n2){
   return n1 +n2;
}</pre>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">Function Expression</div>
            <div class="col-md-10">
              <pre class="prettyprint pre18">
const sub = function(n1,n2){
  return n1 - n2
}          </pre>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">Callback example</div>
            <div class="col-md-10">
              <pre class="prettyprint pre18">
const f1 = function(n1,n2, callback){
  return "Result using the numbers: "+n1+" and "+n2+" = "+callback(n1,n2);
}; </pre>
            </div>
          </div>
        </div>
      </div>
      <div class="build" style="margin-top: 20px;font-size: 22px;">
        <div>
          <div class="row">
            <div class="col-md-2"><code>What will these examples print
            <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/></code></div>
            <div class="build">
              <div class="col-md-10" class="build">
                <pre class="prettyprint pre18">
console.log( add(1,2) )     // What will this print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18" style="margin:0px;">
console.log( add )          // What will it print? </pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log( add(1,2,3) ) ; // What will it print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log( add(1) );	  // What will it print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log( f1(3,3,add) ); // What will it print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log( f1(4,3,sub) ); // What will it print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log(f1(3,3,add())); // What will it print?</pre>
              </div>
              <div class="col-md-10">
                <pre class="prettyprint pre18">
console.log(f1(3,"hh",add));// What will it print</pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      </div>
      <article>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>Callbacks</h2>
        <h3>Functions as Parameters</h3>
      </hgroup>
      <article>
        <pre class="prettyprint pre18" style="float:left; width:48%; margin-right: 15px;">
<b>Synchronous Callback</b>
const numbers = [1, -4, 9];
const newSign = numbers.map(<b>function(num)
{
   return num * -1;
}</b>);
// newSign is now [-1, 4, -9].numbers are still [1, 4, 9]
       </pre>
        <pre class="prettyprint pre18" style="float:left; width:45%">
<b>Asynchronous Callback</b>
function delay(){
  setTimeout(function(){
    console.log("Hi  Class");
  },2000);
}
delay();
console.log("What come first, me or ..");
        </pre>
        <div style="margin-top: 10px;">Think of this pattern as a "kind of" Observer pattern</div>
        <div>In the examples above the callback is called each time something of interest happens:</div>
        <ul>
          <li>For each element in the array in the first example (Synchronous)</li>
          <li>When the timer has timed out, in the second example (Asynchronous)</li>
        </ul>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>Callbacks</h2>
        <h3>JavaScript Array Callbacks you NEED to learn</h3>
      </hgroup>
      <article>
        <div class="build">
          <pre class="prettyprint pre18" style="margin-top: -29px;">
const names = ["kurt","ole","hans","ib"];

//<b style="color:darkBlue;" >forEach()</b>Executes a provided function once per array element.
names.forEach(function(name){
    console.log(name);
}) //What does this print?
</pre>
        </div>
        <div style="margin-top: 4px;" class="build">
          <pre class="prettyprint pre18">
//<b>filter()</b> Creates a new array with all elements
//that pass the test implemented by the provided function.
var newArray = names.filter(function(name){
    return name.length <= 3;
}) //What is the value of <b>newArray</b></pre>
        </div>
        <div style="margin-top: 5px;" class="build">
          <pre class="prettyprint pre18">
//<b>map()</b> Creates a new array with the results of calling the
//provided function on every element in this array.
var mapArray = names.map(function(name){
  return name.toUpperCase();
});
//what is the value of <b>mapArray</b></pre>
        </div>

      </article>
    </slide>


    <slide>
      <script>
        $(document).ready(function () {
          $("#ex1").exPresenter({
            directory: "examples/hoisting/",
            codeClass: "prettyprint pre18",
            codeStyle: "float:left;margin-right:5px;margin-bottom:5px;width:70%",
            presenterStyle: "float:right;height:200px;width:20%",
            commentStyle: "position:absolute;left:60px; top:570px;"
          });
        });
      </script>
      <hgroup>
        <h2>Variable Hoisting</h2>
      </hgroup>
      <article>
        <div style="margin-top:-35px;">JavaScript does not support block scoping.</div>
        <div>Variable definitions are not scoped to their nearest enclosing statement or block,
          as in Java, but rather to their <em>containing function.</em>
        </div>
        <div id="ex1" style="margin-top: 25px;"></div>
      </article>
    </slide>


    <slide>
      <hgroup>
        <h2>Closures</h2>
      </hgroup>
      <article>
        <div style="margin-top: 0px; font-size: 22px;">A closure is a special kind of object that combines two things:
          <ul>
            <li>A function</li>
            <li>The environment in which that function was created.
              The environment consists of any local variables that were in-scope at the time that the closure was
              created
            </li>
            <li>With closure we can create real (and its the only way) private variables in JavaScript
            </li>
          </ul>
        </div>
        <footer class="source">source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures</footer>
      </article>
    </slide>
    <slide>
      <script>
        $(document).ready(function () {
          $("#closure2").exPresenter({
            directory: "examples/Closures2/",
            codeClass: "prettyprint pre16",
            codeStyle: "float:left;margin-right:5px;margin-bottom:5px;width:70%",
            presenterStyle: "float:right;height:200px;width:20%",
            commentStyle: "position:absolute;left:60px; top:500px;width:1000px;font-size:22px;"
          });
        });
      </script>
      <hgroup>
        <h2>Closures 2</h2>

        <h3>Emulating private methods with closures</h3>
      </hgroup>
      <article>
        <div style="margin-top: -50px;margin-bottom:10px;font-size: 21px;">
          JavaScript does not, like Java, provide a native way of providing private methods.<br />
          But it is possible to emulate this using closures.
        </div>
        <div id="closure2"></div>

        <footer class="source">source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures</footer>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript Objects 1</h2>
      </hgroup>

      <article>
        <p style=margin-top:-30px;margin-bottom:3px;">
          Create an object named myCar and give it properties named make, model </p>
        <pre class="prettyprint">
const myCar = {
   make: "Ford",
   model: "Mustang",
   year: 1969
}
myCar.make = "Volvo" //Set field value
const make = myCar.make // Read field value    </pre>
        <div class="build">
          <div>
            <p style=margin-top:-5px;margin-bottom:3px;"> We can just add fields when they are needed </p>
            <pre class="prettyprint">
<b>const myCar = {} </b>
myCar.make = "Ford"
myCar.model = "Mustang"
myCar.year = 1969    </pre>
          </div>
        </div>
        <div class="build">
          <div>
            <p style=margin-top:-5px;margin-bottom:3px;">We can even remove existing fields from an object.</p>
            <pre class="prettyprint">
delete myCar.year
//<i>Don't do this on predefined JS-objects</i></pre>
          </div>
        </div>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript Objects 2</h2>
      </hgroup>

      <article>

        <p style=margin-top:-30px;margin-bottom:3px;">
          Properties of JavaScript objects can also be used using bracket notation, almost like a hashMap in
          Java (modern JS includes Map and Set colllection types).
        </p>
        <pre class="prettyprint">
myCar["make"] = "Ford";
myCar["model"] = "Mustang";
myCar["year"] = 1969;</pre>

        <div class="build">
          <div>
            <p style=margin-top:-5px;margin-bottom:3px;">This way we can access fields programatically.</p>
            <pre class="prettyprint">
const fieldName = "make" //or "Model" or "Year"
myCar[fieldName] = "Volvo";
console.log(myCar[fieldName])</pre>
          </div>
        </div>
        <div class="build">
          <div>
            <p style=margin-top:-5px;margin-bottom:3px;">Using the <code>for..in</code> construct we can iterate over
              properties in an object</p>
            <pre class="prettyprint">
delete myCar.year
for (const property in myCar) {
  console.log(`${property}: ${myCar[property]}`);
}
// Will print (since we deleted the year property):
//make: Ford
//model: Mustang
</pre>
          </div>
        </div>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>JavaScript Objects 3</h2>
      </hgroup>
      <article>
        <p>Lets try all of this :-) </p>
      </article>
    </slide>

    <slide>
      <hgroup>
        <h2>Creating objects in more than one way:</h3>
      </hgroup>

      <article>

        <p style="margin-top: -35px;margin-bottom: 5px;">Using an Object Initializer (Examples so far)</p>
        <pre class="prettyprint">
var myHonda = {color: "red", wheels: 4, engine: {cylinders: 4, size: 2.2}}; </pre>
        <div class="build">
          <div>
            <p style="margin-bottom: 5px;">Using a constructor function (The <b>OOOOLD</b> ES5 way)</p>
            <pre class="prettyprint">
function Car(make, model, year) {   //The Constructor function
  this.make = make;
  this.model = model;
  this.year = year;
}
//Creating instances
var car1 = new Car("Volvo", "V70", 2005);
var car1 = new Car("Volvo", "244", 1988);</pre>
          </div>
        </div>
        <div class="build">
          <div>
            <p style=margin-top:-5px;margin-bottom:3px;">JavaScript (pre ES6) have <b>classes and objects</b> almost
              similar to Java (<b>but only ALMOST</b>).
              <b>I will not cover ES6 classes</b>, but you will often find yourself in situation where you need to
              create
              instances
              like:
            </p>
            <pre class="prettyprint">const date = new Date()</pre>
          </div>
        </div>
        <footer style="margin-top:20px;" class="source"><a
            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects">Source</a>
        </footer>
      </article>
    </slide>


    <!-- 
    <slide>
      <hgroup>
        <h2>JavaScript and <em>this</em></h2>

        <h3>JavaScript <em>this</em> for Java Programmers</h3>
      </hgroup>
      <article>
        <p
          style="margin-top: -25px; color: #000088;border: solid thin lightblue;border-radius: 5px;padding: 10px;background-color: lightblue">
          JavaScript always makes me want to flip the table and say “F... this
          shit”. But I can never be sure what <b style="font-size: 1.3em;">this</b> refers to ;-)
          <span style="font-size: x-small">source:
            <a href="https://twitter.com/oscherler/status/660049264903643136">Ölbaum</a>
          </span>
        </p>
        <ul>
          <li>Whenever a function is contained in the global scope, the value of <em>this</em> inside of that function
            will be the global object (window in a browser)
            or <em>undefined</em> if in <em>strict mode</em></li>
          <li>Whenever a function is called by a preceding dot, the object before that dot is <em>this</em>.</li>
          <li>Whenever a constructor function is used, <em>this</em> refers to the specific instance of the object that
            is
            created and returned by the constructor function.
          </li>
          <li>Whenever JavaScript’s <code>call</code> or <code>apply</code> method is used, this is explicitly defined.
          </li>
        </ul>
      </article>
    </slide>
    <slide>
      <hgroup>
        <h2>JavaScript <em>this</em> Pitfalls</h2>
      </hgroup>
      <article>
        <pre class="prettyprint pre14" style="margin-top: -30px;" data-lang="Forgetting new">
function Car(make,model) {
  this.make = make;
  this.model = model;
}
var car = Car("Volvo","V70"); //Forgot new
console.log(car===undefined); //true
console.log(make); //Volvo, global Scope has been poluted
      </pre>
        <pre class="prettyprint pre14" style="margin-top: 10px;" data-lang=" Losing 'this' When Extracting a Method">
var counter = {
    count: 0,
    inc: function () {
        this.count++;
    }
}
> var func = counter.inc; //Store "reference" to inc
> func();
> counter.count  // 0, does not work
      </pre>
        <pre class="prettyprint pre14" style="margin-top: 10px;" data-lang="Shadowing this">
function Car(make,model) {
  this.make = make;
  this.model = model;
  this.show = function(){setTimeout(function(){ //This function gets it's own "this"
    console.log(this.make + ", " + this.model);
  },0)};
}
var car = new Car("Volvo","V70");
car.show(); //undefined, undefined
</pre>
      </article>
    </slide>


    <slide class="nobackground" style="background: #00163B">
      <aside class="gdbar right"><img src="../images/logo.png" style="width: 200px;"></aside>
      <hgroup>

      </hgroup>
      <article class="flexbox  auto-fadein" style="margin-top: 25%;">
        <h2>Rest of today; Exercises :-)</h2>

      </article>
      <p class="auto-fadein" data-config-contact>
        <!-- populated from slide_config.json -->
    </p>
    </slide>
    -->

    <slide class="backdrop"></slide>

  </slides>

  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
    _gaq.push(['_trackPageview']);

    (function () {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  </script>

  <!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>

</html>
